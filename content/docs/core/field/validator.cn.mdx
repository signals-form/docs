---
title: æ ¡éªŒå™¨
description: çµæ´»å¼ºå¤§çš„è¡¨å•å­—æ®µæ ¡éªŒç³»ç»Ÿ
---

## æ¦‚è¿°

åœ¨å¤æ‚è¡¨å•åœºæ™¯ä¸­ï¼Œæ ¡éªŒç³»ç»Ÿéœ€è¦è€ƒè™‘å¤šä¸ªç»´åº¦ï¼šæ ¡éªŒè§„åˆ™ã€æ ¡éªŒæ—¶æœºã€æ ¡éªŒç»“æœå¤„ç†ã€æ ¡éªŒé€»è¾‘ç»„åˆã€æ ¡éªŒä¸Šä¸‹æ–‡ã€æ ¡éªŒæµç¨‹æ§åˆ¶ç­‰ã€‚SignalForm æä¾›äº†å®Œæ•´çš„æ ¡éªŒå™¨è§£å†³æ–¹æ¡ˆï¼Œé€šè¿‡ `defineValidator` æ¥å®šä¹‰çµæ´»çš„æ ¡éªŒå™¨ã€‚

## æ ¡éªŒæ¨¡å¼

SignalForm æ”¯æŒä¸¤ç§æ ¡éªŒæ¨¡å¼ï¼š

### ä¸»åŠ¨å¼æ ¡éªŒ (Initiative)
ç”¨æˆ·ä¸»åŠ¨è§¦å‘å­—æ®µå€¼å˜æ›´æ—¶è§¦å‘çš„æ ¡éªŒï¼Œé€‚ç”¨äºå®æ—¶åé¦ˆåœºæ™¯ã€‚

### è¢«åŠ¨å¼æ ¡éªŒ (Passive)  
å½“ä¾èµ–çš„å…¶ä»–å­—æ®µå‘ç”Ÿå˜åŒ–æ—¶è§¦å‘çš„æ ¡éªŒï¼Œé€‚ç”¨äºå­—æ®µé—´å…³è”æ ¡éªŒã€‚

```ts
const password = defineField({
  id: "password",
  component: Input,
  props: { 
    label: "å¯†ç ", 
    type: "password", 
    prefix: "ğŸ”’", 
    required: true 
  },
  validators: [
    // ä¸»åŠ¨å¼æ ¡éªŒ - ç”¨æˆ·è¾“å…¥æ—¶è§¦å‘
    defineValidator()
      .initiative()
      .schema(z.string({ message: "è¯·è¾“å…¥å¯†ç ï¼" })
        .min(6, "å¯†ç è‡³å°‘6ä½")
        .max(20, "å¯†ç ä¸èƒ½è¶…è¿‡20ä½")),
        
    // è¢«åŠ¨å¼æ ¡éªŒ - ä¾èµ–å…¶ä»–å­—æ®µå˜åŒ–è§¦å‘  
    defineValidator()
      .passive()
      .schema(z.string({ message: "è¯·è¾“å…¥å¯†ç ï¼" })
        .min(6, "å¯†ç è‡³å°‘6ä½")
        .max(20, "å¯†ç ä¸èƒ½è¶…è¿‡20ä½"))
  ]
})
```

> ğŸ’¡ **æç¤º**ï¼šä¸æŒ‡å®šæ¨¡å¼æ—¶ï¼Œé»˜è®¤ä¸ºä¸»åŠ¨å¼æ ¡éªŒã€‚åç»­ç¤ºä¾‹ä¸»è¦æ¼”ç¤ºä¸»åŠ¨å¼æ ¡éªŒï¼Œä¸¤ç§æ¨¡å¼çš„ API å®Œå…¨ä¸€è‡´ã€‚

## æ ¡éªŒè§„åˆ™å®šä¹‰

### åŸºç¡€ç”¨æ³•

SignalForm æ²¡æœ‰å†…ç½®é€šç”¨æ ¡éªŒè§„åˆ™ï¼Œè€Œæ˜¯æä¾›äº†çµæ´»çš„æ ¡éªŒå™¨èŒƒå¼ï¼Œè®©ä½ å¯ä»¥è½»æ¾é›†æˆå„ç§æ ¡éªŒå¼•æ“ã€‚ä»¥ Zod ä¸ºä¾‹ï¼š

```ts
// å•ä¸ªæ ¡éªŒå™¨
defineField({
  id: "username",
  component: Input,
  validators: defineValidator()
    .schema(z.string({ message: "è¯·è¾“å…¥ç”¨æˆ·åï¼" })
      .min(3, "ç”¨æˆ·åè‡³å°‘3ä½")
      .max(20, "ç”¨æˆ·åä¸èƒ½è¶…è¿‡20ä½"))
})

// å¤šä¸ªæ ¡éªŒå™¨
defineField({
  id: "email", 
  component: Input,
  validators: [
    defineValidator()
      .schema(z.string({ message: "è¯·è¾“å…¥é‚®ç®±ï¼" })
        .email("è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±æ ¼å¼"))
  ]
})
```

### ç®€åŒ–è¯­æ³•

å½“åªæœ‰ä¸€ä¸ªæ ¡éªŒå™¨ä¸”æ— å…¶ä»–é…ç½®æ—¶ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ schemaï¼š

```ts
defineField({
  id: "phone",
  component: Input,
  validators: z.string({ message: "è¯·è¾“å…¥æ‰‹æœºå·ï¼" })
    .regex(/^1[3-9]\d{9}$/, "è¯·è¾“å…¥æœ‰æ•ˆçš„æ‰‹æœºå·")
})
```
