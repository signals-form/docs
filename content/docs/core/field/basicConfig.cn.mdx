---
title: åŸºç¡€é…ç½®
---

## idã€name

- `id` æ˜¯å­—æ®µçš„åœ¨è¡¨å•ä¸­çš„å”¯ä¸€æ ‡è¯†ï¼Œå¿…é¡»æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåœ¨æ¨¡å‹ä¸­é»˜è®¤ä½¿ç”¨ `name` ä½œä¸ºæ•°æ®å½•å…¥å’Œå­—æ®µè·¯å¾„è®¡ç®—ï¼Œnameé»˜è®¤å€¼ä¸ºid
- æœ‰äº†idä¸ºå•¥è¿˜éœ€è¦nameå‘¢ï¼Ÿå› ä¸ºæœ‰äº›å­—æ®µçš„åå­—æ˜¯ä¸€è‡´çš„ï¼Œéœ€è¦åŒºåˆ†å¼€æ¥ï¼Œä¾‹å¦‚ï¼Œè€å¸ˆä¿¡æ¯ï¼Œå­¦ç”Ÿä¿¡æ¯ä¸‹ï¼Œéƒ½æœ‰ å§“åè¿™ä¸ªå­—æ®µ

```ts
const teachername = defineField({
    id: "teachername",
    name: "username"
})

const studentname = defineField({
    id: "studentname",
    name: "username"
})
```

## component
`component` æ˜¯å­—æ®µåœ¨é¡µé¢ä¸­çš„è¡¨è¾¾ï¼Œæ‰€æ¸²æŸ“çš„ç»„ä»¶ï¼Œå¿…é¡»æ˜¯ä¸€ä¸ªå—æ§ç»„ä»¶ï¼Œå¿…é¡»æœ‰ `value` å’Œ `onChange` å±æ€§ã€‚`value` æ˜¯å­—æ®µçš„å€¼ï¼Œ`onChange` æ˜¯å­—æ®µçš„å€¼æ”¹å˜æ—¶çš„å›è°ƒå‡½æ•°ã€‚

```ts
const username = defineField({
    id: "username",
    component: Input
  })
```

### å—æ§ç»„ä»¶
å—æ§ç»„ä»¶æ˜¯æŒ‡ç»„ä»¶çš„å€¼ç”±å¤–éƒ¨æ§åˆ¶ï¼Œç»„ä»¶çš„å€¼é€šè¿‡ `props` ä¼ é€’ç»™ç»„ä»¶ã€‚ç»„ä»¶çš„å€¼æ”¹å˜æ—¶ï¼Œè°ƒç”¨ `onChange` å›è°ƒå‡½æ•°ï¼Œå°†æ–°çš„å€¼ä¼ é€’ç»™å¤–éƒ¨ã€‚

```tsx
export default function Input(props: {
  label: string
  value: string
  onChange: (value: string) => void
}) {
  return <div>
    <label>{props.label}: </label>
    <input
      type="text"
      value={props.value}
      onChange={(e) => props.onChange(e.target.value)}
    />
  </div>
}
```

## åˆå§‹å€¼

`initialValue` æ˜¯å­—æ®µçš„åˆå§‹å€¼ï¼Œå¯ä»¥æ˜¯ä»»æ„ç±»å‹ã€‚`initialValue` å¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªPromiseã€‚

```ts
const username = defineField({
    id: "username",
    component: Input,
    initialValue: "admin"
  })
```

## props

`props` æ˜¯å­—æ®µçš„å±æ€§ï¼Œå¿…é¡»æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚`props` ä¸­çš„å±æ€§ä¼šä¼ é€’ç»™ç»„ä»¶ã€‚`props` ä¸­çš„å±æ€§å¯ä»¥æ˜¯ä»»æ„ç±»å‹ã€‚

```ts
const username = defineField({
    id: "username",
    component: Input,
    props: {
        label: "ç”¨æˆ·å"
    }
  })
```

## properties
`properties` æ˜¯å­—æ®µçš„å­å­—æ®µé›†åˆï¼Œå¿…é¡»æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚`properties` ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªå­—æ®µå¯¹è±¡ã€‚
```ts
const username = defineField().basicConfig({
  id: "username",
  component: Input
})

const password = defineField().basicConfig({
  id: "password",
  component: Input
})

const account = defineField({
    id: "account",
    component: Form,
    properties: [
      username,
      password
    ]
})
```

## æ’æ§½æ¨¡å¼
- æ’æ§½æ¨¡å¼æ˜¯æŒ‡å­—æ®µçš„å­å­—æ®µçš„åœ¨ç»„ä»¶ä¸­çš„æ¸²æŸ“æ–¹å¼ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå­å­—æ®µä¼šä½œä¸ºç»„ä»¶çš„å­å…ƒç´ æ¸²æŸ“åœ¨ç»„ä»¶ä¸­ã€‚å½“å­—æ®µçš„ `slotMode` ä¸º `true` æ—¶ï¼Œè¡¨ç¤ºå­—æ®µçš„å­å­—æ®µä¼šä½œä¸ºç»„ä»¶çš„ `props` ä¼ é€’ç»™ç»„ä»¶ï¼Œè®©ç»„ä»¶è‡ªå·±å†³å®šå¦‚ä½•æ¸²æŸ“å­å­—æ®µã€‚
- `slotName`: æ’æ§½çš„åç§°ï¼Œç”¨äºåœ¨è¡¨å•ä¸­æ ‡è¯†æ’æ§½ã€‚é»˜è®¤ä¸ºå­—æ®µçš„ `id`
- `slotMode`: æ’æ§½çš„æ¨¡å¼ï¼Œç”¨äºæ§åˆ¶æ’æ§½çš„æ¸²æŸ“æ–¹å¼ã€‚

```ts
const firstName = defineField({
	id: "firstName",
	component: Input,
	props: {
		label: "firstName",
		prefix: "ğŸ‘¤",
		required: true,
	},
});

const lastName = defineField({
	id: "lastName",
	component: Input,
	props: {
		label: "lastName",
		prefix: "ğŸ‘¤",
		required: true,
	},
});

const usernameLayout = defineVoidField({
	id: "usernameLayout",
	component: Flex,
	slotMode: true,
	hidden: (handler) => {
		return handler.queryState(age)?.value > 18;
	},
	properties: [firstName, lastName],
	props: {
		vertical: false,
	}
});

function Flex(props: {
  firstName?: RectNode;
  lastName?: RectNode;
  vertical?: boolean;
}) {
  return (
    <div
      style={{
        display: "flex",
        flexDirection: props.vertical ? "column" : "row",
        alignItems: "center",
        gap: 8,
      }}
    >
    {props.firstName}
		{props.lastName}
    </div>
  );
}

```



## hidden

- `hidden` æ˜¯ä¸€ä¸ª `Decision` å¯¹è±¡ï¼Œè¡¨ç¤ºå­—æ®µæ˜¯å¦ç¦ç”¨ã€‚`hidden` ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚å‡½æ•°çš„å‚æ•°æ˜¯ï¼Œä»…å…·å¤‡è¯»æ“ä½œçš„ `handler` ï¼Œè¿”å›å€¼æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ã€‚é»˜è®¤å€¼æ˜¯ falseã€‚

- **æ³¨**ï¼šæ­¤é€‰é¡¹å…·å¤‡å“åº”å¼èƒ½åŠ›ï¼Œä¸éœ€è¦æ‰‹åŠ¨è®¾ç½®å­—æ®µçš„éšè—ä¸å¦

```ts
import { defineField, D } from "@signals-form/core"
const username = defineField({
    id: "username",
    component: Input,
    hidden: D.use('isHidden')
})
```

### hiddenè¡Œä¸º

- `hidden` å¯ä»¥æ˜¯ä¸€ä¸ªé…ç½®å¯¹è±¡ï¼Œå¯ä»¥ç”¨æ¥é…ç½®ï¼Œå­—æ®µéšè—åï¼Œå­—æ®µå€¼çš„åˆ é™¤ä¸æ¢å¤ï¼Œä»¥åŠå…¶å­ç»„ä»¶æ˜¯å¦ä¿æ´»ï¼Œåœ¨è¡¨å•æäº¤æ—¶ï¼Œéšè—çš„å­—æ®µæ˜¯å¦ä¹Ÿéœ€è¦æäº¤ã€‚
- `when` æ˜¯ä¸€ä¸ª `Decision` å¯¹è±¡ï¼Œè¡¨ç¤ºå­—æ®µæ˜¯å¦éšè—ã€‚`hidden` ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚å‡½æ•°çš„å‚æ•°æ˜¯ `Field` çš„`value` ä»¥åŠè¡¨å•æ¨¡å‹ `model` ï¼Œè¿”å›å€¼æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ã€‚`hidden` çš„é»˜è®¤å€¼æ˜¯ `false`ã€‚
- `activityOnHidden` ä¸º `true`æ—¶ï¼Œè¡¨ç¤ºå½“å­—æ®µéšè—æ—¶ï¼Œæ­é… `Activity` ç»„ä»¶ï¼Œå¯¹å…¶å­—æ®µç»„ä»¶è¿›è¡Œä¿æ´»ï¼Œä½¿å¾—ç»„ä»¶æ˜¯ä¸ä¼šè¢«å¸è½½ï¼Œåªä¼šéšè—ï¼Œé»˜è®¤ä¸º `false`ã€‚
- `removeValueOnHidden` ä¸º `true`æ—¶ï¼Œè¡¨ç¤ºå½“å­—æ®µéšè—æ—¶ï¼Œå­—æ®µçš„ `value` ä¼šè¢«åˆ é™¤ï¼Œä¹Ÿå°±æ˜¯ç½®ä¸º `undefined`ï¼Œé»˜è®¤ä¸º `true`ã€‚
- `recoverValueOnShown` ä¸º`true`æ—¶ï¼Œè¡¨ç¤ºå­—æ®µç”±éšè—è½¬ä¸ºæ˜¾ç¤ºæ—¶ï¼Œå­—æ®µçš„ `value` ä¼šå›å¡«ä¸ºéšè—æ—¶çš„å€¼ï¼Œé»˜è®¤ä¸º `false`ã€‚
- `submitOnHidden` ä¸º`true`æ—¶ï¼Œè¡¨ç¤ºå­—æ®µéšè—æ—¶ï¼Œè¡¨å•æäº¤æ—¶ï¼Œä¹Ÿä¼šè¢«æäº¤ã€‚

```ts
{
		when: D.and("isJerry", "is18"),
		behavior: {
			activityOnHidden: true,
			removeValueOnHidden: true,
			recoverValueOnShown: true,
			submitOnHidden: false
		},
}
```

## disabled
- `disabled` æ˜¯ä¸€ä¸ª `Decision` å¯¹è±¡ï¼Œè¡¨ç¤ºå­—æ®µæ˜¯å¦ç¦ç”¨ã€‚`disabled` ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚å‡½æ•°çš„å‚æ•°æ˜¯ï¼Œä»…å…·å¤‡è¯»æ“ä½œçš„ `handler` ï¼Œè¿”å›å€¼æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ã€‚é»˜è®¤å€¼æ˜¯ falseã€‚
- **æ³¨**ï¼šæ­¤é€‰é¡¹å…·å¤‡å“åº”å¼èƒ½åŠ›ï¼Œä¸éœ€è¦æ‰‹åŠ¨è®¾ç½®å­—æ®µçš„ç¦ç”¨ä¸å¦

```ts
import { defineField, D } from "@signals-form/core"
const username = defineField({
    id: "username",
    component: Input,
    disabled: D.use('isDisabled')
  })
```

## äº‹ä»¶å¤„ç†
- `events` æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¡¨ç¤ºå­—æ®µçš„äº‹ä»¶å¤„ç†å‡½æ•°ã€‚`events` ä¸­çš„æ¯ä¸ªå±æ€§éƒ½æ˜¯ä¸€ä¸ªäº‹ä»¶å¤„ç†å‡½æ•°ã€‚
- äº‹ä»¶å¤„ç†å‡½æ•°çš„ `this` æŒ‡å‘å½“å‰å­—æ®µçš„ `handler` å¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡ `this.setState` æˆ– `this.setAsyncState` æ¥æ›´æ–°å­—æ®µçš„çŠ¶æ€ã€‚è¿˜æœ‰å…¶ä»–çš„çŠ¶æ€å’Œæ–¹æ³•åœ¨åé¢çš„ç« èŠ‚ä¸­ä¼šä»‹ç»ã€‚
- **æ³¨**ï¼šäº‹ä»¶å¤„ç†å‡½æ•°ä¸å¯ä»¥æ˜¯ç®­å¤´å‡½æ•°ï¼Œå› ä¸ºç®­å¤´å‡½æ•°çš„ `this` æŒ‡å‘çš„æ˜¯å®šä¹‰æ—¶çš„ä¸Šä¸‹æ–‡ï¼Œè€Œä¸æ˜¯äº‹ä»¶è§¦å‘æ—¶çš„ä¸Šä¸‹æ–‡ã€‚

```ts
import { defineField } from "@signals-form/core"
const username = defineField({
    id: "username",
    component: Input,
    events: {
        onChange(value) {
            this.setState('value', value)
        }
    }
})
```
