---
title: å¿«é€Ÿå¼€å§‹
description: æ„å»ºæ‚¨çš„ç¬¬ä¸€ä¸ªå“åº”å¼è¡¨å•
---

## æ¬¢è¿äº†è§£ Signals Form

Signals Form é‡‡ç”¨å£°æ˜å¼ API ä¸å¼ºå¤§çš„å­—æ®µè”åŠ¨æ— ç¼é›†æˆï¼Œä¸ºå¼€å‘è€…æä¾›çµæ´»çš„éªŒè¯æœºåˆ¶ã€å“è¶Šçš„æ€§èƒ½è¡¨ç°ä»¥åŠå¯¹å„ç§å‰ç«¯æ¡†æ¶çš„å…¨é¢æ”¯æŒã€‚

<Cards>

<Card icon={<CpuIcon className="text-purple-300" />} title='Form Core'>

è¡¨å•çš„æ ¸å¿ƒå¼•æ“ï¼Œæä¾›çŠ¶æ€ç®¡ç†ã€éªŒè¯å’Œè”åŠ¨èƒ½åŠ›ï¼Œæ˜¯æ•´ä¸ªè¡¨å•ç³»ç»Ÿçš„åŸºç¡€ã€‚

</Card>

<Card icon={<PanelsTopLeft className="text-blue-300" />} title='Form Devtools'>

å¼ºå¤§çš„å¼€å‘è°ƒè¯•å·¥å…·ï¼Œå¸®åŠ©å¼€å‘è€…å®æ—¶ç›‘æ§è¡¨å•çŠ¶æ€å˜åŒ–ï¼Œå¿«é€Ÿå®šä½å’Œè§£å†³é—®é¢˜ã€‚

</Card>

<Card icon={<Database />} title='Form Graph'>

ç›´è§‚çš„å›¾å½¢åŒ–å·¥å…·ï¼Œå°†è¡¨å•ç»“æ„å’Œå…³ç³»å¯è§†åŒ–ï¼Œä½¿å¤æ‚è¡¨å•è®¾è®¡å˜å¾—ç®€å•ã€‚

</Card>

<Card icon={<Terminal />} title='Form Relation'>

ä¸“ä¸šçš„å…³ç³»å¤„ç†ç³»ç»Ÿï¼Œè½»æ¾å¤„ç†å­—æ®µé—´çš„å¤æ‚ä¾èµ–å’Œè”åŠ¨å…³ç³»ã€‚

</Card>

</Cards>

<Callout title="æƒ³æ¢ç´¢æ›´å¤šåŠŸèƒ½ï¼Ÿ">
  æŸ¥çœ‹æˆ‘ä»¬è¯¦ç»†çš„ [æ ¸å¿ƒæ¦‚å¿µæ–‡æ¡£](/docs/core) äº†è§£æ›´å¤šé«˜çº§ç‰¹æ€§ã€‚
</Callout>

## æ ¸å¿ƒç‰¹æ€§

- âœ¨ **å“åº”å¼çŠ¶æ€ç®¡ç†**ï¼šåŸºäº Signals çš„é«˜æ•ˆçŠ¶æ€ç®¡ç†ï¼Œè‡ªåŠ¨è¿½è¸ªä¾èµ–å…³ç³»
- ğŸ›¡ï¸ **å¼ºå¤§çš„è¡¨å•éªŒè¯**ï¼šçµæ´»çš„æ ¡éªŒå™¨ï¼Œæ”¯æŒ Zodã€Yup ç­‰ä¸»æµéªŒè¯åº“
- ğŸ”„ **æ™ºèƒ½å­—æ®µè”åŠ¨**ï¼šè½»æ¾å®šä¹‰å­—æ®µé—´çš„ä¾èµ–å…³ç³»ï¼Œå®ç°å¤æ‚çš„è¡¨å•è”åŠ¨é€»è¾‘
- ğŸ§© **ç»„ä»¶åŒ–è®¾è®¡**ï¼šä¸ Reactã€Vueã€Svelte ç­‰æ¡†æ¶æ— ç¼é›†æˆ
- ğŸš€ **æè‡´æ€§èƒ½**ï¼šç²¾ç¡®æ›´æ–°ç­–ç•¥ï¼Œé¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“
- ğŸ”— **å¼ºå¤§çš„å­—æ®µå…³è”**ï¼šæ”¯æŒå¤æ‚çš„å­—æ®µé—´å…³ç³»å’Œæ•°æ®æµ

## å¿«é€Ÿå¼€å§‹

### å®‰è£…

é€‰æ‹©é€‚åˆæ‚¨é¡¹ç›®çš„åŒ…ç®¡ç†å™¨æ¥å®‰è£… Signals Formï¼š

<Tabs groupId='package-manager' persist items={['npm', 'pnpm', 'yarn', 'bun']}>

```bash tab="npm"
npm install @signals-form/core @signals-form/react
```

```bash tab="pnpm"
pnpm install @signals-form/core @signals-form/react
```

```bash tab="yarn"
yarn add @signals-form/core @signals-form/react
```

```bash tab="bun"
bun install @signals-form/core @signals-form/react
```

</Tabs>

### æ­¥éª¤ 1ï¼šå®šä¹‰å­—æ®µ

åˆ›å»ºä¸€ä¸ªå…·æœ‰éªŒè¯åŠŸèƒ½çš„ç”¨æˆ·åå­—æ®µï¼š

```ts title="src/fields/username.ts"
import { defineField } from "@signals-form/core"
import { z } from "zod"
import { Input } from "./components/Input"

export const username = defineField({
  id: "username",
  component: Input,
  props: {
    label: "ç”¨æˆ·å",
    placeholder: "è¯·è¾“å…¥ç”¨æˆ·å"
  },
  validators: z.string().min(3, "ç”¨æˆ·åè‡³å°‘3ä¸ªå­—ç¬¦").max(20, "ç”¨æˆ·åä¸èƒ½è¶…è¿‡20ä¸ªå­—ç¬¦")
})
```

### æ­¥éª¤ 2ï¼šåˆ›å»ºè¾“å…¥ç»„ä»¶

å®ç°ä¸€ä¸ª Input ç»„ä»¶ï¼Œä¸è¡¨å•ç³»ç»Ÿè¿›è¡Œé“¾æ¥ï¼š

```tsx title="src/components/Input.tsx"
import type { Messages } from "@signals-form/core"

interface InputProps {
  label: string
  placeholder: string
  value: string
  messages: Messages
  onChange: (value: string) => void
}

export function Input({ label, placeholder, value, messages, onChange }: InputProps) {
  const errorMessages = messages.error
    ?.map(item => Object.values(item).map(err => err.message).join(", "))
    .join(", ")

  return (
    <div>
      <label>{label}</label>
      <input
        type="text"
        value={value}
        placeholder={placeholder}
        onChange={(e) => onChange(e.target.value)}
      />
      {errorMessages && (
        <span className="error-message">{errorMessages}</span>
      )}
    </div>
  )
}
```

### æ­¥éª¤ 3ï¼šç»„è£…è¡¨å•

é€šè¿‡ `defineForm` å°†å­—æ®µç»„åˆï¼Œæ„å»ºå®Œæ•´çš„è¡¨å•ï¼š

```tsx title="src/components/LoginForm.tsx"
import { useCallback } from "react"
import { defineForm } from "@signals-form/core"
import { FormControl } from "@signals-form/react"
import { zodResolver } from "@signals-form/resolvers"
import { username } from "../fields/username"

// å®šä¹‰è¡¨å•
const loginForm = defineForm({
  id: "LoginForm",
  defaultValidatorEngine: "zod",
  fields: [username],
  resolvers: {
    validator: {
      zod: zodResolver,
    },
  },
})

export function LoginForm() {
  const handleSubmit = useCallback(async () => {
    const { messages, model } = await loginForm.submit()
    
    if (!messages) {
      console.log("éªŒè¯é€šè¿‡ï¼Œè¡¨å•æ•°æ®:", model)
      // å¤„ç†ç™»å½•é€»è¾‘
    } else {
      console.log("è¡¨å•éªŒè¯å¤±è´¥:", messages)
    }
  }, [])

  return (
    <div className="login-form">
      <h2>ç”¨æˆ·ç™»å½•</h2>
      <FormControl form={loginForm} />
      <button 
        onClick={handleSubmit}
        className="submit-button"
      >
        ç™»å½•
      </button>
    </div>
  )
}
```

### æ­¥éª¤ 4ï¼šåœ¨åº”ç”¨ä¸­ä½¿ç”¨

```tsx title="src/App.tsx"
import { LoginForm } from "./components/LoginForm"

export function App() {
  return (
    <div className="app">
      <LoginForm />
    </div>
  )
}
```

## æ·»åŠ æ›´å¤šå­—æ®µ

è®©æˆ‘ä»¬æ‰©å±•è¡¨å•ï¼Œæ·»åŠ å¯†ç å­—æ®µå’Œå­—æ®µè”åŠ¨ï¼š

```ts title="src/fields/password.ts"
import { defineField, defineReaction } from "@signals-form/core"
import { z } from "zod"
import { Input } from "../components/Input"

export const password = defineField({
  id: "password",
  component: Input,
  props: {
    label: "å¯†ç ",
    placeholder: "è¯·è¾“å…¥å¯†ç ",
    type: "password"
  },
  validators: z.string().min(6, "å¯†ç è‡³å°‘6ä¸ªå­—ç¬¦")
})

export const confirmPassword = defineField({
  id: "confirmPassword", 
  component: Input,
  props: {
    label: "ç¡®è®¤å¯†ç ",
    placeholder: "è¯·å†æ¬¡è¾“å…¥å¯†ç ",
    type: "password"
  },
  validators: [
    defineValidator()
      .schema(z.string().min(6, "å¯†ç è‡³å°‘6ä¸ªå­—ç¬¦!")),

    defineValidator()
      .passive()
      .custom(({ query })=>{
        const password = query('password')
        const confirmPassword = query('confirmPassword')
        if (password.isDirty && confirmPassword.isTouched && password.value !== confirmPassword.value) {
          return { message: "è¯·ç¡®è®¤å¯†ç !", type: "error" }
        }
    })
  ]
})
```

æ›´æ–°è¡¨å•å®šä¹‰ï¼š

```ts title="src/components/LoginForm.tsx"
import { username } from "../fields/username"
import { password, confirmPassword, passwordMatchReaction } from "../fields/password"

const loginForm = defineForm({
  id: "LoginForm",
  defaultValidatorEngine: "zod",
  fields: [username, password, confirmPassword],
  effects: {
    reactions: [passwordMatchReaction], // æ·»åŠ å­—æ®µè”åŠ¨
  },
  resolvers: {
    validator: {
      zod: zodResolver,
    },
  },
})
```

## ä¸‹ä¸€æ­¥

æ­å–œï¼æ‚¨å·²æˆåŠŸåˆ›å»ºäº†ç¬¬ä¸€ä¸ª Signals Form è¡¨å•ã€‚ç°åœ¨æ‚¨å¯ä»¥ï¼š

<Cards>
  <Card
    href="/[lang]/docs/core/field/defineField"
    title="æ·±å…¥äº†è§£å­—æ®µ"
    description="å­¦ä¹ å­—æ®µå®šä¹‰ã€å±æ€§é…ç½®å’Œç”Ÿå‘½å‘¨æœŸç®¡ç†"
  />
  <Card
    href="/[lang]/docs/core/field/validator"
    title="æŒæ¡è¡¨å•éªŒè¯"
    description="äº†è§£å¦‚ä½•å®ç°å¤æ‚çš„è¡¨å•éªŒè¯é€»è¾‘å’Œè‡ªå®šä¹‰æ ¡éªŒå™¨"
  />
  <Card
    href="/[lang]/docs/core/relation/defineReaction"
    title="å­—æ®µè”åŠ¨æ§åˆ¶"
    description="æŒæ¡å­—æ®µé—´çš„ä¾èµ–å…³ç³»å’Œè”åŠ¨é€»è¾‘å®ç°"
  />
  <Card
    href="/[lang]/docs/examples"
    title="æŸ¥çœ‹ç¤ºä¾‹"
    description="æµè§ˆæ›´å¤šå®é™…é¡¹ç›®ä¸­çš„è¡¨å•ä½¿ç”¨æ¡ˆä¾‹"
  />
</Cards>

## è·å¾—å¸®åŠ©

é‡åˆ°é—®é¢˜ï¼Ÿæˆ‘ä»¬éšæ—¶ä¸ºæ‚¨æä¾›å¸®åŠ©ï¼š

- ğŸ“– [å®Œæ•´æ–‡æ¡£](/docs/core) - æŸ¥çœ‹è¯¦ç»†çš„ API æ–‡æ¡£å’Œä½¿ç”¨æŒ‡å—
- ğŸ’¬ [GitHub Discussions](https://github.com/signals-form/signals-form/discussions) - ä¸ç¤¾åŒºäº¤æµè®¨è®º
- ğŸ› [GitHub Issues](https://github.com/signals-form/signals-form/issues) - æŠ¥å‘Š Bug æˆ–æå‡ºåŠŸèƒ½å»ºè®®
- ğŸš€ [ç¤ºä¾‹ä»£ç ](https://github.com/signals-form/signals-form/tree/main/examples) - æŸ¥çœ‹æ›´å¤šå®é™…ç¤ºä¾‹

è®©æˆ‘ä»¬ä¸€èµ·æ„å»ºæ›´å¥½çš„è¡¨å•ä½“éªŒï¼âœ¨
